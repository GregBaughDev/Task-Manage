{"ast":null,"code":"import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar initialState = {\n  x: 0,\n  y: 0,\n  isDragging: false,\n  startingX: 0,\n  startingY: 0,\n  currentlyDraggingId: null,\n  currentlyHoveredDroppableId: null,\n  currentlyHoveredDroppableAccepts: null,\n  data: null,\n  type: null\n};\n\nvar Store = function () {\n  function Store() {\n    classCallCheck(this, Store);\n    this._state = initialState;\n    this._callbacks = [];\n  }\n\n  Store.prototype.update = function update(payload) {\n    this._state = _extends({}, this._state, payload);\n\n    this._callbacks.forEach(function (callback) {\n      return callback();\n    });\n  };\n\n  Store.prototype.reset = function reset() {\n    this.update(initialState);\n  };\n\n  Store.prototype.subscribe = function subscribe(callback) {\n    var _this = this;\n\n    this._callbacks = [].concat(this._callbacks, [callback]);\n    return function () {\n      _this._callbacks = _this._callbacks.filter(function (f) {\n        return f !== callback;\n      });\n    };\n  };\n\n  Store.prototype.getState = function getState() {\n    return this._state;\n  };\n\n  return Store;\n}();\n\nvar dndStore = new Store();\n\nvar getId = function getId() {\n  var text = '';\n  var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (var i = 0; i < 5; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n};\n\nvar noop = function noop() {};\n\nvar DragComponent = function (_React$Component) {\n  inherits(DragComponent, _React$Component);\n\n  function DragComponent() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, DragComponent);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = dndStore.getState(), _this.shouldComponentUpdate = function (nextProps, nextState) {\n      if (nextProps !== _this.props) {\n        return true;\n      } else {\n        if (nextProps.subscribeTo) {\n          var shouldUpdate = false;\n          var i = 0;\n\n          while (i < nextProps.subscribeTo.length - 1) {\n            if (_this.state[nextProps.subscribeTo[i]] !== nextState[nextProps.subscribeTo[i]]) {\n              shouldUpdate = true;\n              i = nextProps.length;\n            } else {\n              i++;\n            }\n          }\n\n          return shouldUpdate;\n        } else {\n          if (nextState !== _this.state) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      }\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  DragComponent.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.unsubscribe = dndStore.subscribe(function () {\n      _this2.setState(dndStore.getState());\n    });\n  };\n\n  DragComponent.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unsubscribe();\n  };\n\n  DragComponent.prototype.render = function render() {\n    var state = this.state;\n    var accepts = state.currentlyHoveredDroppableAccepts;\n    var isOverDroppable = typeof state.currentlyHoveredDroppableId === \"string\";\n    return (this.props.alwaysRender || state.isDragging && state.currentlyDraggingId === this.props.for) && this.props.children(_extends({}, state, {\n      isOverAccepted: isOverDroppable ? accepts !== null ? Array.isArray(accepts) ? accepts.includes(state.type) : state.type === accepts : true : false\n    }));\n  };\n\n  return DragComponent;\n}(Component);\n\nDragComponent.defaultProps = {\n  for: \"\",\n  alwaysRender: false,\n  subscribeTo: null\n};\nDragComponent.propTypes = {\n  children: PropTypes.func.isRequired,\n  for: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  alwaysRender: PropTypes.bool,\n  subscribeTo: PropTypes.array\n};\n\nvar Draggable = function (_React$Component) {\n  inherits(Draggable, _React$Component);\n\n  function Draggable() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, Draggable);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      startCoordinate: null,\n      storeState: _extends({}, dndStore.getState(), {\n        isActive: false\n      })\n    }, _this.startDragDelay = function (e) {\n      var x = void 0;\n      var y = void 0;\n\n      if (\"ontouchstart\" in window && e.touches) {\n        x = e.touches[0].clientX;\n        y = e.touches[0].clientY;\n      } else {\n        e.preventDefault();\n        x = e.clientX;\n        y = e.clientY;\n      }\n\n      dndStore.update({\n        startingX: x,\n        startingY: y\n      });\n\n      _this.setState({\n        startCoordinate: {\n          x: x,\n          y: y\n        }\n      });\n\n      document.addEventListener(\"mouseup\", _this.endDragDelay);\n      document.addEventListener(\"mousemove\", _this.checkDragDelay);\n      document.addEventListener(\"touchend\", _this.endDragDelay);\n      document.addEventListener(\"touchmove\", _this.checkDragDelay);\n    }, _this.checkDragDelay = function (e) {\n      var x = void 0;\n      var y = void 0;\n\n      if (\"ontouchstart\" in window && e.touches) {\n        x = e.touches[0].clientX;\n        y = e.touches[0].clientY;\n      } else {\n        e.preventDefault();\n        x = e.clientX;\n        y = e.clientY;\n      }\n\n      var a = Math.abs(_this.state.startCoordinate.x - x);\n      var b = Math.abs(_this.state.startCoordinate.y - y);\n      var distance = Math.round(Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2)));\n      var dragDistance = _this.props.delay;\n\n      if (distance >= dragDistance) {\n        _this.endDragDelay();\n\n        if (\"ontouchstart\" in window && e.touches) {\n          _this.startMobileDrag(e);\n        } else {\n          _this.startDrag(e);\n        }\n      }\n    }, _this.endDragDelay = function () {\n      document.removeEventListener(\"mouseup\", _this.endDragDelay);\n      document.removeEventListener(\"mousemove\", _this.checkDragDelay);\n      document.removeEventListener(\"touchend\", _this.endDragDelay);\n      document.removeEventListener(\"touchmove\", _this.checkDragDelay);\n\n      _this.setState({\n        startCoordinate: null\n      });\n    }, _this.startDrag = function (e) {\n      dndStore.update({\n        isDragging: true,\n        startingX: e.clientX,\n        startingY: e.clientY,\n        x: e.clientX,\n        y: e.clientY,\n        currentlyDraggingId: _this.props.id,\n        data: _this.props.data,\n        type: _this.props.type\n      });\n\n      _this.props.onDragStart(dndStore.getState().data);\n\n      window.addEventListener(\"mouseup\", _this.stopDrag);\n      window.addEventListener(\"mousemove\", _this.updateCoordinates);\n    }, _this.startMobileDrag = function (e) {\n      _this.props.onDragStart(dndStore.getState().data);\n\n      var touch = e.touches[0];\n      dndStore.update({\n        isDragging: true,\n        startingX: touch.clientX,\n        startingY: touch.clientY,\n        x: touch.clientX,\n        y: touch.clientY,\n        currentlyDraggingId: _this.props.id,\n        data: _this.props.data,\n        type: _this.props.type\n      });\n      window.addEventListener(\"touchend\", _this.stopDrag);\n      window.addEventListener(\"touchmove\", _this.updateMobileCoordinates);\n    }, _this.stopDrag = function (e) {\n      _this.props.onDragEnd(dndStore.getState().data);\n\n      dndStore.reset();\n      window.removeEventListener(\"mouseup\", _this.stopDrag);\n      window.removeEventListener(\"mousemove\", _this.updateCoordinates);\n      window.removeEventListener(\"touchend\", _this.stopDrag);\n      window.removeEventListener(\"touchmove\", _this.updateMobileCoordinates);\n    }, _this.updateCoordinates = function (e) {\n      dndStore.update({\n        x: e.clientX,\n        y: e.clientY\n      });\n\n      _this.props.onDrag();\n    }, _this.updateMobileCoordinates = function (e) {\n      var touch = e.touches[0];\n      dndStore.update({\n        x: touch.clientX,\n        y: touch.clientY\n      });\n\n      _this.props.onDrag();\n    }, _this.shouldComponentUpdate = function (nextProps, nextState) {\n      if (nextProps !== _this.props) {\n        return true;\n      } else {\n        if (nextProps.subscribeTo) {\n          var shouldUpdate = false;\n          var i = 0;\n\n          while (i < nextProps.subscribeTo.length - 1) {\n            if (_this.state[nextProps.subscribeTo[i]] !== nextState[nextProps.subscribeTo[i]]) {\n              shouldUpdate = true;\n              i = nextProps.length;\n            } else {\n              i++;\n            }\n          }\n\n          return shouldUpdate;\n        } else {\n          if (nextState !== _this.state) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      }\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  Draggable.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.unsubscribe = dndStore.subscribe(function () {\n      var state = dndStore.getState();\n\n      _this2.setState({\n        storeState: _extends({}, state, {\n          isActive: state.currentlyDraggingId === _this2.props.id\n        })\n      });\n    });\n  };\n\n  Draggable.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unsubscribe();\n  };\n\n  Draggable.prototype.render = function render() {\n    var state = this.state.storeState;\n    return this.props.children(_extends({}, state, {\n      events: {\n        onMouseDown: this.startDragDelay,\n        onTouchStart: this.startDragDelay\n      }\n    }));\n  };\n\n  return Draggable;\n}(Component);\n\nDraggable.defaultProps = {\n  id: getId(),\n  data: null,\n  type: null,\n  delay: 8,\n  onDragStart: noop,\n  onDrag: noop,\n  onDragEnd: noop,\n  subscribeTo: null\n};\nDraggable.propTypes = {\n  children: PropTypes.func.isRequired,\n  delay: PropTypes.number,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  type: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  onDragStart: PropTypes.func,\n  onDrag: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  subscribeTo: PropTypes.array\n};\n\nvar Droppable = function (_React$Component) {\n  inherits(Droppable, _React$Component);\n\n  function Droppable() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, Droppable);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = _extends({}, dndStore.getState(), {\n      isOver: false\n    }), _this.setOver = function () {\n      if (dndStore.getState().isDragging) {\n        dndStore.update({\n          currentlyHoveredDroppableId: _this.props.id,\n          currentlyHoveredDroppableAccepts: _this.props.accepts\n        });\n\n        _this.props.onDragEnter();\n      }\n    }, _this.setOut = function () {\n      if (dndStore.getState().isDragging) {\n        dndStore.update({\n          currentlyHoveredDroppableId: null,\n          currentlyHoveredDroppableAccepts: null\n        });\n\n        _this.props.onDragLeave();\n      }\n    }, _this.onDrop = function () {\n      var _store$getState = dndStore.getState(),\n          data = _store$getState.data,\n          type = _store$getState.type,\n          isDragging = _store$getState.isDragging;\n\n      if (isDragging) {\n        if (Array.isArray(_this.props.accepts)) {\n          if (_this.props.accepts.includes(type)) {\n            _this.props.onDrop(data);\n          }\n        } else {\n          if (type === _this.props.accepts) {\n            _this.props.onDrop(data);\n          }\n        }\n      }\n    }, _this.shouldComponentUpdate = function (nextProps, nextState) {\n      if (nextProps !== _this.props) {\n        return true;\n      } else {\n        if (nextProps.subscribeTo) {\n          var shouldUpdate = false;\n          var i = 0;\n\n          while (i < nextProps.subscribeTo.length - 1) {\n            if (_this.state[nextProps.subscribeTo[i]] !== nextState[nextProps.subscribeTo[i]]) {\n              shouldUpdate = true;\n              i = nextProps.length;\n            } else {\n              i++;\n            }\n          }\n\n          return shouldUpdate;\n        } else {\n          if (nextState !== _this.state) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      }\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  Droppable.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.unsubscribe = dndStore.subscribe(function () {\n      var state = dndStore.getState();\n\n      _this2.setState(_extends({}, state, {\n        isOver: state.currentlyHoveredDroppableId === _this2.props.id,\n        willAccept: Array.isArray(_this2.props.accepts) ? _this2.props.accepts.includes(state.type) : _this2.props.accepts === state.type\n      }));\n    });\n  };\n\n  Droppable.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unsubscribe();\n  };\n\n  Droppable.prototype.render = function render() {\n    var state = this.state;\n    return this.props.children(_extends({}, state, {\n      events: {\n        onMouseEnter: this.setOver,\n        onMouseLeave: this.setOut,\n        onMouseUp: this.onDrop\n      }\n    }));\n  };\n\n  return Droppable;\n}(Component);\n\nDroppable.defaultProps = {\n  id: getId(),\n  accepts: null,\n  onDragEnter: noop,\n  onDragLeave: noop,\n  onDrop: noop,\n  subscribeTo: null\n};\nDroppable.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  children: PropTypes.func.isRequired,\n  accepts: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  onDrop: PropTypes.func,\n  onDragEnter: PropTypes.func,\n  onDragLeave: PropTypes.func,\n  subscribeTo: PropTypes.array\n};\n\nvar DragState = function (_React$Component) {\n  inherits(DragState, _React$Component);\n\n  function DragState() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, DragState);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = dndStore.getState(), _this.shouldComponentUpdate = function (nextProps, nextState) {\n      if (nextProps !== _this.props) {\n        return true;\n      } else {\n        if (nextProps.subscribeTo) {\n          var shouldUpdate = false;\n          var i = 0;\n\n          while (i < nextProps.subscribeTo.length - 1) {\n            if (_this.state[nextProps.subscribeTo[i]] !== nextState[nextProps.subscribeTo[i]]) {\n              shouldUpdate = true;\n              i = nextProps.length;\n            } else {\n              i++;\n            }\n          }\n\n          return shouldUpdate;\n        } else {\n          if (nextState !== _this.state) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      }\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  DragState.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.unsubscribe = dndStore.subscribe(function () {\n      _this2.setState(dndStore.getState());\n    });\n  };\n\n  DragState.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unsubscribe();\n  };\n\n  DragState.prototype.render = function render() {\n    var children = this.props.children;\n    return children(_extends({}, this.state));\n  };\n\n  return DragState;\n}(Component);\n\nDragState.defaultProps = {\n  subscribeTo: null\n};\nDragState.propTypes = {\n  children: PropTypes.func.isRequired,\n  subscribeTo: PropTypes.array\n};\nexport { DragComponent, Draggable, Droppable, DragState };","map":{"version":3,"sources":["/Users/gregbaugh/Documents/GitHub/task-manage/node_modules/react-dragtastic/build/index.es.js"],"names":["Component","PropTypes","classCallCheck","instance","Constructor","TypeError","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","possibleConstructorReturn","self","ReferenceError","initialState","x","y","isDragging","startingX","startingY","currentlyDraggingId","currentlyHoveredDroppableId","currentlyHoveredDroppableAccepts","data","type","Store","_state","_callbacks","update","payload","forEach","callback","reset","subscribe","_this","concat","filter","f","getState","dndStore","getId","text","possible","charAt","Math","floor","random","noop","DragComponent","_React$Component","_temp","_ret","_len","args","Array","_key","apply","state","shouldComponentUpdate","nextProps","nextState","props","subscribeTo","shouldUpdate","componentDidMount","_this2","unsubscribe","setState","componentWillUnmount","render","accepts","isOverDroppable","alwaysRender","for","children","isOverAccepted","isArray","includes","defaultProps","propTypes","func","isRequired","oneOfType","string","number","bool","array","Draggable","startCoordinate","storeState","isActive","startDragDelay","e","window","touches","clientX","clientY","preventDefault","document","addEventListener","endDragDelay","checkDragDelay","a","abs","b","distance","round","sqrt","pow","dragDistance","delay","startMobileDrag","startDrag","removeEventListener","id","onDragStart","stopDrag","updateCoordinates","touch","updateMobileCoordinates","onDragEnd","onDrag","events","onMouseDown","onTouchStart","Droppable","isOver","setOver","onDragEnter","setOut","onDragLeave","onDrop","_store$getState","willAccept","onMouseEnter","onMouseLeave","onMouseUp","DragState"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar initialState = {\n  x: 0,\n  y: 0,\n  isDragging: false,\n  startingX: 0,\n  startingY: 0,\n  currentlyDraggingId: null,\n  currentlyHoveredDroppableId: null,\n  currentlyHoveredDroppableAccepts: null,\n  data: null,\n  type: null\n};\n\nvar Store = function () {\n  function Store() {\n    classCallCheck(this, Store);\n    this._state = initialState;\n    this._callbacks = [];\n  }\n\n  Store.prototype.update = function update(payload) {\n    this._state = _extends({}, this._state, payload);\n    this._callbacks.forEach(function (callback) {\n      return callback();\n    });\n  };\n\n  Store.prototype.reset = function reset() {\n    this.update(initialState);\n  };\n\n  Store.prototype.subscribe = function subscribe(callback) {\n    var _this = this;\n\n    this._callbacks = [].concat(this._callbacks, [callback]);\n    return function () {\n      _this._callbacks = _this._callbacks.filter(function (f) {\n        return f !== callback;\n      });\n    };\n  };\n\n  Store.prototype.getState = function getState() {\n    return this._state;\n  };\n\n  return Store;\n}();\n\nvar dndStore = new Store();\n\nvar getId = function getId() {\n  var text = '';\n  var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (var i = 0; i < 5; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n};\n\nvar noop = function noop() {};\n\nvar DragComponent = function (_React$Component) {\n  inherits(DragComponent, _React$Component);\n\n  function DragComponent() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, DragComponent);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = dndStore.getState(), _this.shouldComponentUpdate = function (nextProps, nextState) {\n      if (nextProps !== _this.props) {\n        return true;\n      } else {\n        if (nextProps.subscribeTo) {\n          var shouldUpdate = false;\n          var i = 0;\n          while (i < nextProps.subscribeTo.length - 1) {\n            if (_this.state[nextProps.subscribeTo[i]] !== nextState[nextProps.subscribeTo[i]]) {\n              shouldUpdate = true;\n              i = nextProps.length;\n            } else {\n              i++;\n            }\n          }\n          return shouldUpdate;\n        } else {\n          if (nextState !== _this.state) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      }\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  DragComponent.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.unsubscribe = dndStore.subscribe(function () {\n      _this2.setState(dndStore.getState());\n    });\n  };\n\n  DragComponent.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unsubscribe();\n  };\n\n  DragComponent.prototype.render = function render() {\n    var state = this.state;\n    var accepts = state.currentlyHoveredDroppableAccepts;\n    var isOverDroppable = typeof state.currentlyHoveredDroppableId === \"string\";\n\n    return (this.props.alwaysRender || state.isDragging && state.currentlyDraggingId === this.props.for) && this.props.children(_extends({}, state, {\n      isOverAccepted: isOverDroppable ? accepts !== null ? Array.isArray(accepts) ? accepts.includes(state.type) : state.type === accepts : true : false\n    }));\n  };\n\n  return DragComponent;\n}(Component);\n\nDragComponent.defaultProps = {\n  for: \"\",\n  alwaysRender: false,\n  subscribeTo: null\n};\n\n\nDragComponent.propTypes = {\n  children: PropTypes.func.isRequired,\n  for: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  alwaysRender: PropTypes.bool,\n  subscribeTo: PropTypes.array\n};\n\nvar Draggable = function (_React$Component) {\n  inherits(Draggable, _React$Component);\n\n  function Draggable() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, Draggable);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      startCoordinate: null,\n      storeState: _extends({}, dndStore.getState(), { isActive: false })\n    }, _this.startDragDelay = function (e) {\n      var x = void 0;\n      var y = void 0;\n      if (\"ontouchstart\" in window && e.touches) {\n        x = e.touches[0].clientX;\n        y = e.touches[0].clientY;\n      } else {\n        e.preventDefault();\n        x = e.clientX;\n        y = e.clientY;\n      }\n      dndStore.update({\n        startingX: x,\n        startingY: y\n      });\n      _this.setState({ startCoordinate: { x: x, y: y } });\n      document.addEventListener(\"mouseup\", _this.endDragDelay);\n      document.addEventListener(\"mousemove\", _this.checkDragDelay);\n      document.addEventListener(\"touchend\", _this.endDragDelay);\n      document.addEventListener(\"touchmove\", _this.checkDragDelay);\n    }, _this.checkDragDelay = function (e) {\n      var x = void 0;\n      var y = void 0;\n      if (\"ontouchstart\" in window && e.touches) {\n        x = e.touches[0].clientX;\n        y = e.touches[0].clientY;\n      } else {\n        e.preventDefault();\n        x = e.clientX;\n        y = e.clientY;\n      }\n      var a = Math.abs(_this.state.startCoordinate.x - x);\n      var b = Math.abs(_this.state.startCoordinate.y - y);\n      var distance = Math.round(Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2)));\n      var dragDistance = _this.props.delay;\n      if (distance >= dragDistance) {\n        _this.endDragDelay();\n        if (\"ontouchstart\" in window && e.touches) {\n          _this.startMobileDrag(e);\n        } else {\n          _this.startDrag(e);\n        }\n      }\n    }, _this.endDragDelay = function () {\n      document.removeEventListener(\"mouseup\", _this.endDragDelay);\n      document.removeEventListener(\"mousemove\", _this.checkDragDelay);\n      document.removeEventListener(\"touchend\", _this.endDragDelay);\n      document.removeEventListener(\"touchmove\", _this.checkDragDelay);\n      _this.setState({ startCoordinate: null });\n    }, _this.startDrag = function (e) {\n      dndStore.update({\n        isDragging: true,\n        startingX: e.clientX,\n        startingY: e.clientY,\n        x: e.clientX,\n        y: e.clientY,\n        currentlyDraggingId: _this.props.id,\n        data: _this.props.data,\n        type: _this.props.type\n      });\n      _this.props.onDragStart(dndStore.getState().data);\n      window.addEventListener(\"mouseup\", _this.stopDrag);\n      window.addEventListener(\"mousemove\", _this.updateCoordinates);\n    }, _this.startMobileDrag = function (e) {\n      _this.props.onDragStart(dndStore.getState().data);\n      var touch = e.touches[0];\n      dndStore.update({\n        isDragging: true,\n        startingX: touch.clientX,\n        startingY: touch.clientY,\n        x: touch.clientX,\n        y: touch.clientY,\n        currentlyDraggingId: _this.props.id,\n        data: _this.props.data,\n        type: _this.props.type\n      });\n      window.addEventListener(\"touchend\", _this.stopDrag);\n      window.addEventListener(\"touchmove\", _this.updateMobileCoordinates);\n    }, _this.stopDrag = function (e) {\n      _this.props.onDragEnd(dndStore.getState().data);\n      dndStore.reset();\n      window.removeEventListener(\"mouseup\", _this.stopDrag);\n      window.removeEventListener(\"mousemove\", _this.updateCoordinates);\n      window.removeEventListener(\"touchend\", _this.stopDrag);\n      window.removeEventListener(\"touchmove\", _this.updateMobileCoordinates);\n    }, _this.updateCoordinates = function (e) {\n      dndStore.update({\n        x: e.clientX,\n        y: e.clientY\n      });\n      _this.props.onDrag();\n    }, _this.updateMobileCoordinates = function (e) {\n      var touch = e.touches[0];\n      dndStore.update({\n        x: touch.clientX,\n        y: touch.clientY\n      });\n      _this.props.onDrag();\n    }, _this.shouldComponentUpdate = function (nextProps, nextState) {\n      if (nextProps !== _this.props) {\n        return true;\n      } else {\n        if (nextProps.subscribeTo) {\n          var shouldUpdate = false;\n          var i = 0;\n          while (i < nextProps.subscribeTo.length - 1) {\n            if (_this.state[nextProps.subscribeTo[i]] !== nextState[nextProps.subscribeTo[i]]) {\n              shouldUpdate = true;\n              i = nextProps.length;\n            } else {\n              i++;\n            }\n          }\n          return shouldUpdate;\n        } else {\n          if (nextState !== _this.state) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      }\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  Draggable.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.unsubscribe = dndStore.subscribe(function () {\n      var state = dndStore.getState();\n      _this2.setState({\n        storeState: _extends({}, state, {\n          isActive: state.currentlyDraggingId === _this2.props.id\n        })\n      });\n    });\n  };\n\n  Draggable.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unsubscribe();\n  };\n\n  Draggable.prototype.render = function render() {\n    var state = this.state.storeState;\n    return this.props.children(_extends({}, state, {\n      events: {\n        onMouseDown: this.startDragDelay,\n        onTouchStart: this.startDragDelay\n      }\n    }));\n  };\n\n  return Draggable;\n}(Component);\n\nDraggable.defaultProps = {\n  id: getId(),\n  data: null,\n  type: null,\n  delay: 8,\n  onDragStart: noop,\n  onDrag: noop,\n  onDragEnd: noop,\n  subscribeTo: null\n};\n\n\nDraggable.propTypes = {\n  children: PropTypes.func.isRequired,\n  delay: PropTypes.number,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  type: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  onDragStart: PropTypes.func,\n  onDrag: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  subscribeTo: PropTypes.array\n};\n\nvar Droppable = function (_React$Component) {\n  inherits(Droppable, _React$Component);\n\n  function Droppable() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, Droppable);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = _extends({}, dndStore.getState(), { isOver: false }), _this.setOver = function () {\n      if (dndStore.getState().isDragging) {\n        dndStore.update({\n          currentlyHoveredDroppableId: _this.props.id,\n          currentlyHoveredDroppableAccepts: _this.props.accepts\n        });\n        _this.props.onDragEnter();\n      }\n    }, _this.setOut = function () {\n      if (dndStore.getState().isDragging) {\n        dndStore.update({\n          currentlyHoveredDroppableId: null,\n          currentlyHoveredDroppableAccepts: null\n        });\n        _this.props.onDragLeave();\n      }\n    }, _this.onDrop = function () {\n      var _store$getState = dndStore.getState(),\n          data = _store$getState.data,\n          type = _store$getState.type,\n          isDragging = _store$getState.isDragging;\n\n      if (isDragging) {\n        if (Array.isArray(_this.props.accepts)) {\n          if (_this.props.accepts.includes(type)) {\n            _this.props.onDrop(data);\n          }\n        } else {\n          if (type === _this.props.accepts) {\n            _this.props.onDrop(data);\n          }\n        }\n      }\n    }, _this.shouldComponentUpdate = function (nextProps, nextState) {\n      if (nextProps !== _this.props) {\n        return true;\n      } else {\n        if (nextProps.subscribeTo) {\n          var shouldUpdate = false;\n          var i = 0;\n          while (i < nextProps.subscribeTo.length - 1) {\n            if (_this.state[nextProps.subscribeTo[i]] !== nextState[nextProps.subscribeTo[i]]) {\n              shouldUpdate = true;\n              i = nextProps.length;\n            } else {\n              i++;\n            }\n          }\n          return shouldUpdate;\n        } else {\n          if (nextState !== _this.state) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      }\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  Droppable.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.unsubscribe = dndStore.subscribe(function () {\n      var state = dndStore.getState();\n      _this2.setState(_extends({}, state, {\n        isOver: state.currentlyHoveredDroppableId === _this2.props.id,\n        willAccept: Array.isArray(_this2.props.accepts) ? _this2.props.accepts.includes(state.type) : _this2.props.accepts === state.type\n      }));\n    });\n  };\n\n  Droppable.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unsubscribe();\n  };\n\n  Droppable.prototype.render = function render() {\n    var state = this.state;\n    return this.props.children(_extends({}, state, {\n      events: {\n        onMouseEnter: this.setOver,\n        onMouseLeave: this.setOut,\n        onMouseUp: this.onDrop\n      }\n    }));\n  };\n\n  return Droppable;\n}(Component);\n\nDroppable.defaultProps = {\n  id: getId(),\n  accepts: null,\n  onDragEnter: noop,\n  onDragLeave: noop,\n  onDrop: noop,\n  subscribeTo: null\n};\n\n\nDroppable.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  children: PropTypes.func.isRequired,\n  accepts: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  onDrop: PropTypes.func,\n  onDragEnter: PropTypes.func,\n  onDragLeave: PropTypes.func,\n  subscribeTo: PropTypes.array\n};\n\nvar DragState = function (_React$Component) {\n  inherits(DragState, _React$Component);\n\n  function DragState() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, DragState);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = dndStore.getState(), _this.shouldComponentUpdate = function (nextProps, nextState) {\n      if (nextProps !== _this.props) {\n        return true;\n      } else {\n        if (nextProps.subscribeTo) {\n          var shouldUpdate = false;\n          var i = 0;\n          while (i < nextProps.subscribeTo.length - 1) {\n            if (_this.state[nextProps.subscribeTo[i]] !== nextState[nextProps.subscribeTo[i]]) {\n              shouldUpdate = true;\n              i = nextProps.length;\n            } else {\n              i++;\n            }\n          }\n          return shouldUpdate;\n        } else {\n          if (nextState !== _this.state) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n      }\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  DragState.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.unsubscribe = dndStore.subscribe(function () {\n      _this2.setState(dndStore.getState());\n    });\n  };\n\n  DragState.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unsubscribe();\n  };\n\n  DragState.prototype.render = function render() {\n    var children = this.props.children;\n\n    return children(_extends({}, this.state));\n  };\n\n  return DragState;\n}(Component);\n\nDragState.defaultProps = {\n  subscribeTo: null\n};\n\n\nDragState.propTypes = {\n  children: PropTypes.func.isRequired,\n  subscribeTo: PropTypes.array\n};\n\nexport { DragComponent, Draggable, Droppable, DragState };\n"]},"metadata":{},"sourceType":"module"}